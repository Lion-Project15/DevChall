<html>
<head>
    <meta charset="UTF-8">
    <title>챌린지 디테일 페이지</title>
</head>

<body>

<script>

    function wantDelete(postId) {
        if(confirm('정말로 삭제하시겠습니까?')){

            alert(postId + "번 인증글을 삭제합니다.");
            location.href="/usr/challenge/delete/" + postId;
        }else{
            alert("삭제가 취소되었습니다.");
        }
    }
</script>


<p>챌린지 이름</p>
<h1 th:text="${challenge.challengeName}"></h1>

<p>챌린지 내용</p>
<div th:text="${challenge.challengeContents}"></div>

<p>챌린지 공개 여부</p>
<div th:text="${challenge.challengeStatus}"></div>

<p>챌린지 이미지 소스</p>
<div th:text="${challenge.challengeImg}"></div>

<p>챌린지 태그</p>
<div th:text="${challenge.challengeTag}"></div>

<p>챌린지 주간 인증 빈도</p>
<div th:text="${challenge.challengeFrequency}"></div>

<p>챌린지 시작일</p>
<div th:text="${challenge.startDate}"></div>

<p>챌린지 종료일</p>
<div th:text="${challenge.endDate}"></div>

<a th:href="@{|/usr/challenge/write_form/${challenge.id}|}">
    <button>챌린지 인증하기</button>
</a>

<th:block th:unless="${hasPost}">
    <div>
        인증글이 존재하지 않습니다.
    </div>
</th:block>

<th:block th:if="${hasPost}">
    <!-- 인증글 내용 -->
    <div th:each="post : ${challengePostList}">
        <div>
            <td th:text="${post.postTitle}"></td>
            <td th:text="${post.postContents}"></td>
        </div>

        <div>
            <a th:href="@{|/usr/challenge/modify/${post.id}|}">
                수정하기
            </a>

            <button th:onclick="'wantDelete(\'' + ${post.id} + '\')'">삭제하기</button>

        </div>

    </div>
</th:block>

</body>